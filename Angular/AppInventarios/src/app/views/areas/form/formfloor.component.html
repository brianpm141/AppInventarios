<div class="modal-backdrop" *ngIf="isVisible" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ floorToEdit ? 'Editar Piso' : 'Registrar Piso' }}</h2>
      <button class="close-btn" (click)="onClose()">×</button>
    </div>
    <div class="form-container">

      <form [formGroup]="floorForm" (ngSubmit)="onSubmit()">
        <div class="form-row">

          <div class="form-group">
            <label for="name">Nombre del Piso</label>
            <input id="name" type="text" formControlName="name"
              [ngClass]="{ 'invalid-field': floorForm.get('name')?.invalid && floorForm.get('name')?.touched }" />
            <div *ngIf="floorForm.get('name')?.invalid && floorForm.get('name')?.touched" class="validation-error">
              Nombre del piso es obligatorio
            </div>
          </div>

          <div class="form-group">
            <label for="description">Descripción</label>
            <input id="description" type="text" formControlName="description"
              [ngClass]="{ 'invalid-field': floorForm.get('description')?.invalid && floorForm.get('description')?.touched }" />
            <div *ngIf="floorForm.get('description')?.invalid && floorForm.get('description')?.touched"
              class="validation-error">
              Descripción es obligatoria
            </div>
          </div>
        
          <!-- Mensaje de piso duplicado -->
          <div *ngIf="mensajeError" class="alert-message">
            <span>{{ mensajeError }}</span>
          </div>

          <!-- Mensaje de campos vacíos -->
          <div *ngIf="mostrarErrorCampos" class="error-duplicate">
            <img src="img/advertencia.png" class="icon-warn" />
            <strong>Por favor, llene todos los campos obligatorios.</strong>
          </div>
        </div>

        <div class="form-buttons">
          <button type="button" class="btn-yellow" (click)="onClose()">Cancelar</button>
          <button type="submit" class="btn-green">Guardar</button>
        </div>
      </form>
    </div>
  </div>
</div>
